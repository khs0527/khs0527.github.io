---
title: Pandas에서 리스트를 사용해 행 선택하기
date: 2023-08-17 20:00:00 +0900
categories:
  - python
tags:
  - pandas
---

## 문제 상황

Pandas 라이브러리를 사용할 때, 특정 값을 가진 행을 리스트를 사용해서 선택하려고 할 수 있습니다. 그러나 문제는 어떻게 이 과정을 효과적으로 수행할 수 있는지에 대한 것입니다. 이 글에서는 Pandas에서 리스트를 사용해 행을 선택하는 방법을 자세하게 설명합니다.

## `isin()` 메서드를 사용한 행 선택

`isin()`이라는 메서드는 Pandas에서 제공하는 강력한 도구입니다. 이 메서드를 사용하면 리스트에 있는 여러 값을 가진 행을 한 번에 선택할 수 있습니다. 예를 들어, DataFrame이 있고 'A'라는 열에서 특정 값들을 가진 행만 선택하려면 다음과 같이 할 수 있습니다.

```python
import pandas as pd

# 예제 DataFrame 생성
df = pd.DataFrame({'A': [1, 2, 3, 4, 5], 'B': [5, 4, 3, 2, 1]})

# 'A' 열에서 값이 2 또는 4인 행을 선택
selected_rows = df[df['A'].isin([2, 4])]
```

## `query()` 메서드로 고급 행 선택

`query()` 메서드를 사용하면 좀 더 복잡한 쿼리를 실행할 수 있습니다. 이 메서드를 사용하면 문자열 형식의 쿼리를 작성하여 행을 선택할 수 있습니다. 예를 들어:

```python
# 'A' 열에서 값이 2 또는 4인 행을 선택
selected_rows = df.query('A in [2, 4]')
```

## `loc`와 `iloc`를 사용한 행 선택

`loc`와 `iloc`는 행과 열을 선택할 때 사용할 수 있는 또 다른 방법입니다. `loc`는 레이블을 기반으로 하고, `iloc`는 정수 인덱스를 기반으로 합니다.

- `loc` 예시: `df.loc[df['A'].isin([2, 4]), :]`
- `iloc` 예시: `df.iloc[[1, 3], :]`

## 주의사항: `ValueError`

리스트가 비어 있을 경우 `isin()` 메서드를 사용하면 `ValueError`가 발생할 수 있습니다. 이러한 경우를 피하려면 리스트가 비어 있는지 먼저 확인해야 합니다.

## 정리

Pandas에서 리스트를 사용하여 행을 선택하는 방법은 여러 가지입니다. `isin()`, `query()`, `loc`, `iloc` 등 다양한 메서드와 기능을 활용할 수 있습니다. 각 방법은 특정 상황에 더 유용할 수 있으므로, 자신의 필요에 가장 적합한 방법을 선택하면 됩니다.