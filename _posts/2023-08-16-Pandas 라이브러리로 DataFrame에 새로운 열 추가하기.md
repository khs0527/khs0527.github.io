---
title: Pandas 라이브러리로 DataFrame에 새로운 열 추가하기
date: 2023-08-16 20:00:00 +0900
categories:
  - python
tags:
  - pandas
---

## 소개

Pandas는 데이터 분석을 위한 파이썬 라이브러리 중 하나입니다. 여기서는 DataFrame이라는 2차원 테이블을 다룰 수 있습니다. 이 글에서는 이미 생성된 DataFrame에 새로운 열(column)을 어떻게 추가하는지 상세하게 설명하겠습니다.

## 새 열 추가 방법 1: 대입 연산자 사용하기

가장 간단한 방법은 대입 연산자(`=`)를 사용하는 것입니다. 기존 DataFrame에 새 열을 추가할 때 이 방법을 사용하면 됩니다. 아래 코드를 보면 이해하기 쉽습니다.

```python
import pandas as pd

# 기존 DataFrame
df = pd.DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6]})

# 새 열 추가
df['C'] = [7, 8, 9]
```

여기서 `df`는 기존 DataFrame이고, `C`라는 새로운 열을 `[7, 8, 9]`라는 값으로 추가했습니다.

## 새 열 추가 방법 2: `assign` 메서드 사용하기

`assign` 메서드를 사용하면 새로운 열을 추가할 수 있습니다. 이 메서드는 원본 DataFrame을 변경하지 않고 새로운 DataFrame을 반환합니다.

```python
# 새 열 추가
new_df = df.assign(D = [10, 11, 12])
```

여기서 `new_df`는 새로운 열 `D`가 추가된 새로운 DataFrame입니다.

## 새 열 추가 방법 3: `insert` 메서드 사용하기

`insert` 메서드를 사용하면 특정 위치에 새로운 열을 추가할 수 있습니다.

```python
# 새 열 추가
df.insert(1, 'E', [13, 14, 15])
```

이 코드는 `E`라는 새로운 열을 `B` 열 앞에 추가합니다.

## 에러와 주의사항

이러한 방법들은 일반적으로 잘 작동하지만, 몇 가지 주의사항이 있습니다.

- `ValueError`: 만약 새로 추가하려는 열의 길이가 기존 DataFrame의 행 수와 다르다면 `ValueError`가 발생합니다.
  
- 중복 열 이름: 같은 이름의 열을 추가하려고 하면 기존의 열이 덮어쓰여질 수 있으니 주의해야 합니다.

이렇게 하면 Pandas 라이브러리를 사용하여 DataFrame에 새로운 열을 여러 방법으로 쉽게 추가할 수 있습니다.