---
title: Pandas 메모리 부족 에러
date: 2023-09-20 20:00:00 +0900
categories:
  - python
tags:
  - pandas
---

## 오류 메시지: `MemoryError`

대용량 데이터를 처리할 때 가장 흔히 마주치는 문제 중 하나는 메모리 부족입니다. 특히 Pandas 라이브러리를 사용할 때 이런 문제가 자주 발생하곤 하죠. 여기서는 Pandas를 활용하여 대용량 데이터를 효율적으로 처리하는 방법을 살펴보겠습니다.

## 데이터를 작은 단위로 나누기

첫 번째 방법은 데이터를 작은 조각으로 나누는 것입니다. `read_csv`나 `read_excel` 함수의 `chunksize` 파라미터를 설정하여 이를 가능하게 할 수 있습니다. 이렇게 하면, 데이터를 작은 단위로 읽어서 처리할 수 있어 메모리 부족 문제를 해결할 수 있습니다.

## 데이터 타입 최적화

두 번째 방법은 데이터 타입을 최적화하는 것입니다. Pandas는 데이터를 불러올 때 자동으로 데이터 타입을 결정합니다. 이 과정에서 메모리를 더 많이 차지하는 타입이 선택될 수 있으므로, `dtype` 파라미터를 통해 데이터 타입을 명시적으로 지정할 수 있습니다.

## 필요한 칼럼만 선택하기

세 번째 방법은 데이터를 불러올 때 필요한 칼럼만 선택하는 것입니다. `usecols` 파라미터를 사용하면 원하는 칼럼만 불러올 수 있습니다. 이렇게 하면 불필요한 메모리 사용을 줄일 수 있습니다.

## 인덱싱과 필터링

네 번째 방법은 데이터를 불러온 후 인덱싱과 필터링을 통해 필요한 데이터만을 선택하는 것입니다. 이렇게 하면 작업 중인 데이터의 크기를 줄여 메모리를 효율적으로 사용할 수 있습니다.

## 메모리 프로파일링

다섯 번째 방법은 메모리 프로파일링을 통해 어떤 부분이 가장 많은 메모리를 차지하는지 파악하는 것입니다. 이를 통해 문제의 원인을 찾고 해결할 수 있습니다. 프로파일링이란 코드의 성능을 분석하는 것을 말합니다.

## 결론

대용량 데이터를 처리할 때 메모리 문제는 피할 수 없는 문제 중 하나입니다. 그러나 위에서 소개한 여러 가지 방법을 활용하면 이 문제를 효율적으로 해결할 수 있습니다. 이렇게 하여 데이터 처리의 성능을 최적화하면 더 복잡한 작업을 더 빠르고 정확하게 수행할 수 있습니다.